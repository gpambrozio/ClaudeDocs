# Usage Report

Copy page

# Usage Report

##### [Get Messages Usage Report](api/admin/usage_report/retrieve_messages.md)

get/v1/organizations/usage\_report/messages

##### [Get Claude Code Usage Report](api/admin/usage_report/retrieve_claude_code.md)

get/v1/organizations/usage\_report/claude\_code

##### ModelsExpand Collapse

ClaudeCodeUsageReport = object { data, has\_more, next\_page }

data: array of object { actor, core\_metrics, customer\_type, 6 more }

List of Claude Code usage records for the requested date.

actor: object { email\_address, type }  or object { api\_key\_name, type }

The user or API key that performed the Claude Code actions.

Accepts one of the following:

UserActor = object { email\_address, type }

email\_address: string

Email address of the user who performed Claude Code actions.

type: "user\_actor"

Accepts one of the following:

"user\_actor"

APIActor = object { api\_key\_name, type }

api\_key\_name: string

Name of the API key used to perform Claude Code actions.

type: "api\_actor"

Accepts one of the following:

"api\_actor"

core\_metrics: object { commits\_by\_claude\_code, lines\_of\_code, num\_sessions, pull\_requests\_by\_claude\_code }

Core productivity metrics measuring Claude Code usage and impact.

commits\_by\_claude\_code: number

Number of git commits created through Claude Code's commit functionality.

lines\_of\_code: object { added, removed }

Statistics on code changes made through Claude Code.

added: number

Total number of lines of code added across all files by Claude Code.

removed: number

Total number of lines of code removed across all files by Claude Code.

num\_sessions: number

Number of distinct Claude Code sessions initiated by this actor.

pull\_requests\_by\_claude\_code: number

Number of pull requests created through Claude Code's PR functionality.

customer\_type: "api" or "subscription"

Type of customer account (api for API customers, subscription for Pro/Team customers).

Accepts one of the following:

"api"

"subscription"

date: string

UTC date for the usage metrics in YYYY-MM-DD format.

formatdate-time

model\_breakdown: array of object { estimated\_cost, model, tokens }

Token usage and cost breakdown by AI model used.

estimated\_cost: object { amount, currency }

Estimated cost for using this model

amount: number

Estimated cost amount in minor currency units (e.g., cents for USD).

currency: string

Currency code for the estimated cost (e.g., 'USD').

model: string

Name of the AI model used for Claude Code interactions.

tokens: object { cache\_creation, cache\_read, input, output }

Token usage breakdown for this model

cache\_creation: number

Number of cache creation tokens consumed by this model.

cache\_read: number

Number of cache read tokens consumed by this model.

input: number

Number of input tokens consumed by this model.

output: number

Number of output tokens generated by this model.

organization\_id: string

ID of the organization that owns the Claude Code usage.

terminal\_type: string

Type of terminal or environment where Claude Code was used.

tool\_actions: map[object { accepted, rejected } ]

Breakdown of tool action acceptance and rejection rates by tool type.

accepted: number

Number of tool action proposals that the user accepted.

rejected: number

Number of tool action proposals that the user rejected.

subscription\_type: optional "enterprise" or "team"

Subscription tier for subscription customers. Null for API customers.

Accepts one of the following:

"enterprise"

"team"

has\_more: boolean

True if there are more records available beyond the current page.

next\_page: string

Opaque cursor token for fetching the next page of results, or null if no more pages are available.

MessagesUsageReport = object { data, has\_more, next\_page }

data: array of object { ending\_at, results, starting\_at }

ending\_at: string

End of the time bucket (exclusive) in RFC 3339 format.

formatdate-time

results: array of object { api\_key\_id, cache\_creation, cache\_read\_input\_tokens, 7 more }

List of usage items for this time bucket. There may be multiple items if one or more `group_by[]` parameters are specified.

api\_key\_id: string

ID of the API key used. Null if not grouping by API key or for usage in the Anthropic Console.

cache\_creation: object { ephemeral\_1h\_input\_tokens, ephemeral\_5m\_input\_tokens }

The number of input tokens for cache creation.

ephemeral\_1h\_input\_tokens: number

The number of input tokens used to create the 1 hour cache entry.

ephemeral\_5m\_input\_tokens: number

The number of input tokens used to create the 5 minute cache entry.

cache\_read\_input\_tokens: number

The number of input tokens read from the cache.

context\_window: "0-200k" or "200k-1M"

Context window used. Null if not grouping by context window.

Accepts one of the following:

"0-200k"

"200k-1M"

model: string

Model used. Null if not grouping by model.

output\_tokens: number

The number of output tokens generated.

server\_tool\_use: object { web\_search\_requests }

Server-side tool usage metrics.

web\_search\_requests: number

The number of web search requests made.

service\_tier: "standard" or "batch" or "priority" or 3 more

Service tier used. Null if not grouping by service tier.

Accepts one of the following:

"standard"

"batch"

"priority"

"priority\_on\_demand"

"flex"

"flex\_discount"

uncached\_input\_tokens: number

The number of uncached input tokens processed.

workspace\_id: string

ID of the Workspace used. Null if not grouping by workspace or for the default workspace.

starting\_at: string

Start of the time bucket (inclusive) in RFC 3339 format.

formatdate-time

has\_more: boolean

Indicates if there are more results.

next\_page: string

Token to provide in as `page` in the subsequent request to retrieve the next page of data.

formatdate-time